(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[22],{1292:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return d}));var n=a(35),i=a(1320),r=a.n(i);function s(e){return r()(e).format(Number.isInteger(e)?"$0,0":"$0,0.00")}function o(e){return r()(e).format()}function c(e){return Object(n.replace)(r()(e).format("0.00a"),".00","")}function d(e){return r()(e).format("0.0 b")}},1297:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(3),i=a(36),r=a(35),s=a(614),o=a(198),c=a(1267),d=a(37),l=a(0),m=["links","action","heading","moreLink","sx"];function u(e){var t=e.links,a=e.action,u=e.heading,h=e.moreLink,j=void 0===h?[]:h,b=e.sx,_=Object(i.a)(e,m);return Object(l.jsxs)(s.a,{sx:Object(n.a)({mb:5},b),children:[Object(l.jsxs)(s.a,{sx:{display:"flex",alignItems:"center"},children:[Object(l.jsxs)(s.a,{sx:{flexGrow:1},children:[Object(l.jsx)(o.a,{variant:"h4",gutterBottom:!0,children:u}),Object(l.jsx)(d.b,Object(n.a)({links:t},_))]}),a&&Object(l.jsx)(s.a,{sx:{flexShrink:0},children:a})]}),Object(l.jsx)(s.a,{sx:{mt:2},children:Object(r.isString)(j)?Object(l.jsx)(c.a,{href:j,target:"_blank",variant:"body2",children:j}):j.map((function(e){return Object(l.jsx)(c.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)}))})]})}},1299:function(e,t,a){"use strict";function n(e){return new Promise((function(t){return setTimeout(t,e)}))}a.d(t,"a",(function(){return n}))},1319:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(3),i=a(36),r=a(6),s=a(35),o=a(23),c=a(1301),d=(a(400),a(238),a(1258),a(1246),a(7)),l=a(73),m=a(1269),u=a(614),h=a(198),j=(a(1273),a(1275),a(1238),a(1239),a(1276),a(1178),a(394),a(1292)),b=(a(37),a(199),a(617),a(0));Object(d.a)("div")((function(e){var t=e.theme;return Object(r.a)({outline:"none",display:"flex",textAlign:"center",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,1),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.neutral,border:"1px dashed ".concat(t.palette.grey[50032]),"&:hover":{opacity:.72,cursor:"pointer"}},t.breakpoints.up("md"),{textAlign:"left",flexDirection:"row"})}));Object(d.a)("div")((function(e){var t=e.theme;return Object(r.a)({outline:"none",display:"flex",overflow:"hidden",textAlign:"center",position:"relative",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,0),borderRadius:t.shape.borderRadius,transition:t.transitions.create("padding"),backgroundColor:t.palette.background.neutral,border:"1px dashed ".concat(t.palette.grey[50032]),"&:hover":{opacity:.72,cursor:"pointer"}},t.breakpoints.up("md"),{textAlign:"left",flexDirection:"row"})}));var _=a(1340),p=a.n(_),v=["error","file","caption","sx"],g=Object(d.a)("div")((function(e){var t=e.theme;return{width:144,height:144,margin:"auto",borderRadius:"50%",padding:t.spacing(1),border:"1px dashed ".concat(t.palette.grey[50032])}})),x=Object(d.a)("div")({zIndex:0,width:"100%",height:"100%",outline:"none",display:"flex",overflow:"hidden",borderRadius:"50%",position:"relative",alignItems:"center",justifyContent:"center","& > *":{width:"100%",height:"100%"},"&:hover":{cursor:"pointer","& .placeholder":{zIndex:9}}}),O=Object(d.a)("div")((function(e){var t=e.theme;return{display:"flex",position:"absolute",alignItems:"center",flexDirection:"column",justifyContent:"center",color:t.palette.text.secondary,backgroundColor:t.palette.background.neutral,transition:t.transitions.create("opacity",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&:hover":{opacity:.72}}}));function f(e){var t=e.error,a=e.file,r=e.caption,d=e.sx,_=Object(i.a)(e,v),f=Object(c.a)(Object(n.a)({multiple:!1},_)),y=f.getRootProps,w=f.getInputProps,T=f.isDragActive,k=f.isDragReject,q=f.fileRejections,H=function(){return Object(b.jsx)(m.a,{variant:"outlined",sx:{py:1,px:2,my:2,borderColor:"error.light",bgcolor:function(e){return Object(l.a)(e.palette.error.main,.08)}},children:q.map((function(e){var t=e.file,a=e.errors,n=t.path,i=t.size;return Object(b.jsxs)(u.a,{sx:{my:1},children:[Object(b.jsxs)(h.a,{variant:"subtitle2",noWrap:!0,children:[n," - ",Object(j.b)(i)]}),a.map((function(e){return Object(b.jsxs)(h.a,{variant:"caption",component:"p",children:["- ",e.message]},e.code)}))]},n)}))})};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(g,{sx:d,children:Object(b.jsxs)(x,Object(n.a)(Object(n.a)({},y()),{},{sx:Object(n.a)(Object(n.a)({},T&&{opacity:.72}),(k||t)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}),children:[Object(b.jsx)("input",Object(n.a)({},w())),a&&Object(b.jsx)(u.a,{component:"img",alt:"avatar",src:Object(s.isString)(a)?a:a.preview,sx:{zIndex:8,objectFit:"cover"}}),Object(b.jsxs)(O,{className:"placeholder",sx:Object(n.a)({},a&&{opacity:0,color:"common.white",bgcolor:"grey.900","&:hover":{opacity:.72}}),children:[Object(b.jsx)(u.a,{component:o.a,icon:p.a,sx:{width:24,height:24,mb:1}}),Object(b.jsx)(h.a,{variant:"caption",children:a?"Update photo":"Upload photo"})]})]}))}),r,q.length>0&&Object(b.jsx)(H,{})]})}},1773:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return D}));var n=a(1),i=a(1281),r=a(309),s=a(399),o=a(29),c=a(82),d=a(395),l=a(1297),m=a(3),u=a(12),h=a.n(u),j=a(20),b=a(231),_=a(162),p=a(32),v=a(230),g=a(1257),x=a(1261),O=a(1291),f=a(1178),y=a(198),w=a(1250),T=a(614),k=a(1618),q=a.n(k),H=a(21),S=(a(1292),a(1299)),B=(a(396),a(1319),a(0));function C(e){var t=e.settingsData,a=(Object(p.h)(),Object(_.useSnackbar)().enqueueSnackbar),n=b.b().shape({refresh_location_time_interval:b.d().required("This field is required"),downloads_message_num:b.d().required("This field is required"),message_limit_character_num:b.d().required("This field is required"),domain_name:b.d().required("This field is required"),top_message_num:b.d().required("This field is required"),top_message_save_hour:b.d().required("This field is required"),pvt_message_save_hour:b.d().required("This field is required"),default_coverage:b.d().required("This field is required"),app_version:b.d().required("This field is required")}),i=Object(v.c)({enableReinitialize:!0,initialValues:{refresh_location_time_interval:(null===t||void 0===t?void 0:t.settings.refresh_location_time_interval)||5,downloads_message_num:(null===t||void 0===t?void 0:t.settings.downloads_message_num)||100,message_limit_character_num:(null===t||void 0===t?void 0:t.settings.message_limit_character_num)||1e3,domain_name:(null===t||void 0===t?void 0:t.settings.domain_name)||"toptalk.app",admin_mail_address:(null===t||void 0===t?void 0:t.settings.admin_mail_address)||"",online_chat_admin_email:(null===t||void 0===t?void 0:t.settings.online_chat_admin_email)||"",top_message_num:(null===t||void 0===t?void 0:t.settings.top_message_num)||1,top_message_save_hour:(null===t||void 0===t?void 0:t.settings.top_message_save_hour)||24,pvt_message_save_hour:(null===t||void 0===t?void 0:t.settings.pvt_message_save_hour)||24,message_save_hour:(null===t||void 0===t?void 0:t.settings.message_save_hour)||1,default_coverage:(null===t||void 0===t?void 0:t.settings.default_coverage)||150,app_version:(null===t||void 0===t?void 0:t.settings.app_version)||1},validationSchema:n,onSubmit:function(){var e=Object(j.a)(h.a.mark((function e(t,n){var i,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.setSubmitting,n.resetForm,r=n.setErrors,e.prev=1,e.next=4,Object(S.a)(500);case 4:return e.next=6,H.a.put("/settings/parameter/",t);case 6:i(!1),a("Update success",{variant:"success"}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),i(!1),r(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()}),r=i.errors,s=(i.values,i.touched),o=i.handleSubmit,c=i.isSubmitting,d=(i.setFieldValue,i.getFieldProps);return Object(B.jsx)(v.b,{value:i,children:Object(B.jsx)(v.a,{noValidate:!0,autoComplete:"off",onSubmit:o,children:Object(B.jsx)(x.a,{container:!0,spacing:3,children:Object(B.jsx)(x.a,{item:!0,xs:12,md:12,children:Object(B.jsx)(O.a,{sx:{p:3},children:Object(B.jsxs)(f.a,{spacing:3,children:[Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(q.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"How often to refresh the user's location: every"}),Object(B.jsx)(w.a,Object(m.a)(Object(m.a)({},d("refresh_location_time_interval")),{},{variant:"standard",style:{width:80},error:Boolean(s.refresh_location_time_interval&&r.refresh_location_time_interval),helperText:s.refresh_location_time_interval&&r.refresh_location_time_interval})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"minutes"})]}),Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(q.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"Each message text is limited to"}),Object(B.jsx)(w.a,Object(m.a)(Object(m.a)({},d("message_limit_character_num")),{},{variant:"standard",style:{width:80},error:Boolean(s.message_limit_character_num&&r.message_limit_character_num),helperText:s.message_limit_character_num&&r.message_limit_character_num})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"characters"})]}),Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(q.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"Domain name:"}),Object(B.jsx)(w.a,Object(m.a)(Object(m.a)({},d("domain_name")),{},{variant:"standard",style:{width:120},error:Boolean(s.domain_name&&r.domain_name),helperText:s.domain_name&&r.domain_name})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"Admin mail address:"}),Object(B.jsx)(w.a,Object(m.a)(Object(m.a)({},d("admin_mail_address")),{},{variant:"standard",style:{width:150},error:Boolean(s.admin_mail_address&&r.admin_mail_address),helperText:s.admin_mail_address&&r.admin_mail_address})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"Online chat admin email:"}),Object(B.jsx)(w.a,Object(m.a)(Object(m.a)({},d("online_chat_admin_email")),{},{variant:"standard",style:{width:150},error:Boolean(s.online_chat_admin_email&&r.online_chat_admin_email),helperText:s.online_chat_admin_email&&r.online_chat_admin_email}))]}),Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(q.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"Each user can only TOP"}),Object(B.jsx)(w.a,Object(m.a)(Object(m.a)({},d("top_message_num")),{},{variant:"standard",style:{width:60},error:Boolean(s.top_message_num&&r.top_message_num),helperText:s.top_message_num&&r.top_message_num})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"messages"})]}),Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(q.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"The server saves TOP messages in the past"}),Object(B.jsx)(w.a,Object(m.a)(Object(m.a)({},d("top_message_save_hour")),{},{variant:"standard",style:{width:60},error:Boolean(s.top_message_save_hour&&r.top_message_save_hour),helperText:s.top_message_save_hour&&r.top_message_save_hour})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"hours, and the messages within"}),Object(B.jsx)(w.a,Object(m.a)(Object(m.a)({},d("message_save_hour")),{},{variant:"standard",style:{width:60},error:Boolean(s.message_save_hour&&r.message_save_hour),helperText:s.message_save_hour&&r.message_save_hour})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"hours of public chat"})]}),Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(q.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"The server saves private chat messages in the past"}),Object(B.jsx)(w.a,Object(m.a)(Object(m.a)({},d("pvt_message_save_hour")),{},{variant:"standard",style:{width:60},error:Boolean(s.pvt_message_save_hour&&r.pvt_message_save_hour),helperText:s.pvt_message_save_hour&&r.pvt_message_save_hour})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"hours."})]}),Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(q.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"The default max. coverage set is"}),Object(B.jsx)(w.a,Object(m.a)(Object(m.a)({},d("default_coverage")),{},{variant:"standard",style:{width:60},error:Boolean(s.default_coverage&&r.default_coverage),helperText:s.default_coverage&&r.default_coverage})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"people nearby"})]}),Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(q.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"The latest app version is"}),Object(B.jsx)(w.a,Object(m.a)(Object(m.a)({},d("app_version")),{},{variant:"standard",style:{width:60},error:Boolean(s.app_version&&r.app_version),helperText:s.app_version&&r.app_version}))]}),Object(B.jsx)(T.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(B.jsx)(g.a,{type:"submit",variant:"contained",loading:c,children:"Save Changes"})})]})})})})})})}function D(){var e=Object(c.a)().themeStretch,t=Object(r.c)(),a=Object(r.d)((function(e){return e.setting})).settingsList.find((function(e){return"parameter"===e.type}));return Object(n.useEffect)((function(){t(Object(s.b)())}),[t]),Object(B.jsx)(d.a,{title:"Settings: Parameter Settings | Locals",children:Object(B.jsxs)(i.a,{maxWidth:!e&&"lg",children:[Object(B.jsx)(l.a,{heading:"Parameter Settings",links:[{name:"Dashboard",href:o.b.root},{name:"Settings",href:o.b.settings.parameters},{name:"Parameters"}]}),Object(B.jsx)(C,{settingsData:a})]})})}}}]);
//# sourceMappingURL=22.306b99ce.chunk.js.map